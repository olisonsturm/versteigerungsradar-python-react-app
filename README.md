# Versteigerungsradar – Python + React Full-Stack App

Versteigerungsradar is a full-stack web application that helps users search and view German foreclosure auction listings (“Zwangsversteigerungen”) via a simple, non-technical interface.

- **Frontend:** React + Vite (clean, accessible UI)
- **Backend:** FastAPI (serves both the API and the built frontend)
- **Scraping:** Uses the open-source [`ZvgPortalScraper`](https://github.com/larsborn/ZvgPortalScraper) to read public listings from ZVG-Portal.de
- **One URL deployment:** Optimized to run as a single Render Web Service (no CORS, no proxies)

---

## ✨ Features

- Filter by **federal state (Bundesland)**
- Filter by **auction type**:
  - *Versteigerung im Wege der Zwangsvollstreckung*
  - *Zwangsversteigerung zum Zwecke der Aufhebung der Gemeinschaft*
- Filter by **property types** (e.g., single-family house, semi-detached, commercial unit)
- Filter by **earliest auction date** (e.g., ≥ 5 days from now)
- **Multi-select** for property types
- **Robust parsing:** Handles imperfect/missing fields gracefully; skips only broken entries
- **Single deployment:** API (`/api/...`) and frontend (static files) from one service

---

## 🗂 Repository Structure

```text
.
├── app/
│   └── main.py              # FastAPI backend: /api + serves built frontend
├── zvg-app/                 # React (Vite) frontend
│   ├── src/...
│   └── dist/                # generated by `npm run build`
├── ZvgPortalScraper/        # Git submodule OR cloned during build
├── requirements.txt         # Python deps for FastAPI etc.
├── package.json             # Frontend deps (inside zvg-app)
└── README.md
```

> **Important:** Frontend calls the API via a **relative URL**: `/api/search`.  
> This makes single-domain hosting trivial (no CORS / proxies needed).

---

## 🧰 Prerequisites

- **Python 3.10+**
- **Node.js 18+** & npm
- Access to ZVG-Portal.de

---

## 🚀 Local Development

### 1) Clone the repository

```bash
git clone https://github.com/olisonsturm/versteigerungsradar-python-react-app.git
cd versteigerungsradar-python-react-app
```

If using `ZvgPortalScraper` as a **submodule**:

```bash
git submodule update --init --recursive
```

Or clone manually:

```bash
git clone https://github.com/larsborn/ZvgPortalScraper.git
```

### 2) Install Python dependencies

```bash
pip install -r requirements.txt
pip install -r ZvgPortalScraper/requirements.txt
```

### 3) Install frontend dependencies & build

```bash
cd zvg-app
npm install
npm run build
cd ..
```

### 4) Start backend (serves frontend too)

```bash
uvicorn main:app --reload --port 8000 --app-dir app
```

### 5) Open in browser

- Frontend: [http://localhost:8000](http://localhost:8000)  
- API health check: [http://localhost:8000/api/health](http://localhost:8000/api/health)  
- Example search:

    ```url
    http://localhost:8000/api/search?state=Baden-Württemberg&minDays=

---

## 🌐 Deployment on Render

This app is optimized for **one Render Web Service** (API + frontend).  

**Build Command:**

```bash
pip install -r requirements.txt
git clone https://github.com/larsborn/ZvgPortalScraper.git
pip install -r ZvgPortalScraper/requirements.txt
cd zvg-app && npm ci && npm run build
```

**Start Command:**

```bash
uvicorn app.main:app --host 0.0.0.0 --port $PORT
```

---

## 📄 License

This project integrates [`ZvgPortalScraper`](https://github.com/larsborn/ZvgPortalScraper), which retains its own license.  
All other code in this repository is released under the MIT License.

---

## 🙏 Credits

- **ZvgPortalScraper** by [larsborn](https://github.com/larsborn) – core scraping logic
- [FastAPI](https://fastapi.tiangolo.com/) – backend framework
- [React](https://react.dev/) + [Vite](https://vitejs.dev/) – frontend
